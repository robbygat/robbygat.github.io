<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rob & Nano - Wedding in Paradise</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Poppins:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(to bottom, #ffffff, #e0f2fe);
            color: #1e3a8a;
        }
        h1, h2 {
            font-family: 'Playfair Display', serif;
        }
        .parallax {
            background-attachment: fixed;
            background-size: cover;
        }
        .gallery {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .image-container {
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .image-container:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }
        .image-container img {
            width: 100%;
            height: auto;
            display: block;
            transition: opacity 0.5s ease;
        }
        .image-container .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .image-container:hover .overlay {
            opacity: 1;
        }
        .confetti {
            position: absolute;
            z-index: 10;
            pointer-events: none;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.2/p5.min.js"></script>
    <script src="https://unpkg.com/cannon-es@0.20.0/dist/cannon-es.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>
<body class="antialiased">
    <!-- Hero Section -->
    <section class="relative h-screen flex items-center justify-center bg-cover bg-center" style="background-image: url('kosamui1.jpg');">
        <div class="absolute inset-0 bg-gradient-to-b from-transparent to-blue-900 opacity-0"></div>
        <div class="relative z-10 text-center text-white">
            <h1 class="text-6xl md:text-8xl font-bold mb-4">Rob & Nano</h1>
            <p class="text-2xl md:text-4xl mb-2">Join us in Koh Samui, Thailand</p>
            <p class="text-xl md:text-2xl mb-6">May 4th, 2026</p>
            <div id="countdown" class="text-lg md:text-xl"></div>
        </div>
    </section>

    <!-- Location Section -->
    <section class="py-20 px-4 md:px-20 parallax" style="background-image: url('https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?auto=format&fit=crop&q=80');">
        <div class="max-w-4xl mx-auto text-center text-white">
            <h2 class="text-4xl font-bold mb-8">The Venue: Koh Samui</h2>
            <p class="text-lg mb-6">Discover the tropical paradise where our dreams come true.</p>
            <iframe class="w-full h-96 rounded-2xl shadow-lg" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d126357.37362657878!2d99.99136336601027!3d9.512016514958456!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3054f65847a05f0d%3A0x10223bc2c2602!2sKo%20Samui%2C%20Ko%20Samui%20District%2C%20Surat%20Thani%2C%20Thailand!5e0!3m2!1sen!2sus!4v1726079200000!5m2!1sen!2sus" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </section>

    <!-- RSVP Section -->
    <section class="py-20 px-4 md:px-20 bg-white">
        <div class="max-w-md mx-auto">
            <h2 class="text-4xl font-bold text-center mb-8">RSVP</h2>
            <form id="rsvp-form" class="space-y-4">
                <input type="text" name="name" placeholder="Your Name" required class="w-full p-4 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <input type="email" name="email" placeholder="Your Email" required class="w-full p-4 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <textarea name="message" placeholder="Message (e.g., attending, guests, dietary needs)" required class="w-full p-4 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-32"></textarea>
                <input type="submit" value="Send RSVP" class="w-full p-4 bg-blue-600 text-white rounded-lg cursor-pointer hover:bg-blue-700 transition duration-300">
            </form>
        </div>
    </section>

    <!-- Our Story Section -->
    <section class="py-20 px-4 md:px-20 bg-white">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl font-bold mb-8">Our Story</h2>
            <p class="text-lg mb-6">From chance encounters to eternal promises, our journey has been nothing short of magical. Rob and Nano met under the stars, and now we're excited to share our special day with you in the paradise of Koh Samui.</p>
            <p class="text-lg">We can't wait to celebrate our love surrounded by the beauty of Thailand's beaches and our closest friends and family.</p>
        </div>
    </section>

    <!-- Photo Gallery Section -->
    <section class="py-20 px-4 md:px-20 bg-gradient-to-b from-blue-50 to-white">
        <div class="max-w-6xl mx-auto">
            <h2 class="text-4xl font-bold text-center mb-12">Our Precious Moments</h2>
            <div id="gallery-container" class="gallery grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
            <canvas id="confetti-canvas" class="confetti"></canvas>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-8 text-center text-blue-800 bg-white">
        <p>&copy; 2025 Rob & Nano. All rights reserved.</p>
    </footer>

    <script>
        // Countdown
        const weddingDate = new Date('2026-05-04T00:00:00');
        const countdownEl = document.getElementById('countdown');
        function updateCountdown() {
            const now = new Date();
            const diff = weddingDate - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            countdownEl.innerHTML = `${days} days, ${hours} hours, ${minutes} minutes, ${seconds} seconds until our special day!`;
        }
        setInterval(updateCountdown, 1000);
        updateCountdown();

        // Photo Gallery with Physics and Confetti
        const galleryContainer = document.getElementById('gallery-container');
        const images = [];
        for (let i = 1; i <= 20; i++) {
            images.push(`instagram${i}.png`); // Local images in same folder
        }

        images.forEach(imgSrc => {
            const div = document.createElement('div');
            div.className = 'image-container';
            const img = document.createElement('img');
            img.src = imgSrc;
            img.alt = `Wedding Memory ${imgSrc}`;
            img.onload = () => {
                div.appendChild(img);
                const overlay = document.createElement('div');
                overlay.className = 'overlay';
                overlay.textContent = 'Hover for Magic';
                div.appendChild(overlay);
                galleryContainer.appendChild(div);
            };
            img.onerror = () => console.error(`Failed to load ${imgSrc}`);
        });

        // p5.js Confetti Effect
        const confettiCanvas = document.getElementById('confetti-canvas');
        const sketch = (p) => {
            let confetti = [];

            p.setup = () => {
                p.createCanvas(window.innerWidth, window.innerHeight).parent('confetti-canvas');
                p.noStroke();
            };

            p.draw = () => {
                p.background(0, 10); // Slight fade for effect
                confetti.forEach((c, i) => {
                    c.y += c.speed;
                    c.x += p.random(-1, 1);
                    c.rotation += c.spin;
                    p.push();
                    p.translate(c.x, c.y);
                    p.rotate(c.rotation);
                    p.fill(c.color);
                    p.ellipse(0, 0, c.size, c.size);
                    p.pop();
                    if (c.y > p.height) confetti.splice(i, 1);
                });
                if (p.random() < 0.1) confetti.push({
                    x: p.random(p.width),
                    y: -10,
                    speed: p.random(1, 5),
                    size: p.random(5, 15),
                    color: p.color(p.random(100, 255), p.random(100, 255), p.random(100, 255), 150),
                    rotation: 0,
                    spin: p.random(-0.1, 0.1)
                });
            };

            p.windowResized = () => {
                p.resizeCanvas(window.innerWidth, window.innerHeight);
            };
        };
        new p5(sketch);

        // Physics Simulation with CANNON.js (Hover Bounce)
        const world = new CANNON.World();
        world.gravity.set(0, -9.82, 0);
        const bodies = [];

        document.querySelectorAll('.image-container').forEach((container, index) => {
            const shape = new CANNON.Box(new CANNON.Vec3(container.offsetWidth / 2 / 100, container.offsetHeight / 2 / 100, 0.1));
            const body = new CANNON.Body({ mass: 1 });
            body.addShape(shape);
            body.position.set((index % 4) * 300 / 100 - 1.5, -index * 200 / 100 + 1.5, 0);
            body.linearDamping = 0.5;
            world.addBody(body);
            bodies.push({ element: container, body });

            container.addEventListener('mouseenter', () => {
                body.velocity.y = 5;
                gsap.to(container, { scale: 1.05, duration: 0.3, ease: "back.out(1.7)" });
            });
            container.addEventListener('mouseleave', () => {
                gsap.to(container, { scale: 1, duration: 0.3, ease: "back.out(1.7)" });
            });
        });

        function updatePhysics() {
            world.step(1 / 60);
            bodies.forEach(({ element, body }) => {
                element.style.transform = `translate(${body.position.x * 100}px, ${body.position.y * 100}px)`;
            });
            requestAnimationFrame(updatePhysics);
        }
        updatePhysics();

        // EmailJS RSVP
        (function() {
            emailjs.init("YOUR_PUBLIC_KEY_HERE");
        })();

        document.getElementById('rsvp-form').addEventListener('submit', function(event) {
            event.preventDefault();
            emailjs.sendForm('YOUR_SERVICE_ID_HERE', 'YOUR_TEMPLATE_ID_HERE', this)
                .then(() => alert('RSVP sent!'), (error) => alert('Failed to send RSVP.'));
        });
    </script>
</body>
</html>
